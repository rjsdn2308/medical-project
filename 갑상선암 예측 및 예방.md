## 프로젝트 제안서

## 1. 프로젝트 개요
- **프로젝트 이름**: 갑상선암 예측 및 예방
- **작성자**: 김건우
- **작성일**: 2025년 03월 30일

## 2. 배경 및 필요성
- 갑상선암은 국내 여성에게서 특히 많이 발생하는 암으로, 발생율은 높지만 생존율이 비교적 높습니다.
- 조기 발견 시 치료 성과가 매우 우수하므로, 정확하고 빠른 예측이 무엇보다 중요합니다.
- 기존 진단 방식은 의료진의 경험과 정해진 지표에 의존해왔으나, 이는 복합적인 예측이 어렵고 재발 위험까지 고려하기 어렵습니다.
- 머신러닝 기술을 활용한 의료 데이터 분석은 정밀한 예측을 가능하게 하며 예방 중심의 의료 시스템으로 전환하는데 중요한 역할을 합니다. 

## 3. 목표
- 환자의 의료 데이터를 기반으로 갑상선암의 위험 요인을 분석하고, 예측 모델을 개발하여 조기 진단을 돕습니다.
- 나아가 환자 맞춤형 치료 전략 수립 및 재발 가능성 평가를 지원할 수 있는 머신러닝 기반 솔루션으 구현하는 것입니다. 

## 4. 주요 기능 및 특징
- 환자 데이터 수집 : 갑상선암과 관련된 환자의 의료 기록, 검사 결과, 유전자 정보, 생활습관 데이터 등을 수집하는 것입니다.
   - 데이터 : 결측치 처리, 데이터 정규화, 이상치 제거 등 데이터 품질을 향상하시키는 작업
   - 변수 분석 : 다영한 변수들이 갑상선암 발병에 미치는 영향을 분석
   
- 머신러닝 알고리즘 활용 : 나이, 성별, 가족력, 호르몬 수치 증 다양한 특성을 기반으로 갑상성암을 예측하는 모델을 개발하는 것입니다.
   - 기계학습 모델 훈련 : 기존 환자 데이터를 사용하여 예측 모델을 훈련하고, 모델의 정확도를 평가하는 것입니다. 
   - 모델 최적화 : 다양한 하이퍼파라미터 튜닝을 통해 모델 성능을 최적화합니다.
 
- AI 기반 예측 모델 : 머신러닝 알고리즘을 사용하여 환자의 건강 데이터와 이미지를 기반으로 갑상선암 발생 가능성을 예측하는 모델을 개발합니다. 이 모델은 환자의 건강 상태, 유전적 정보, 생활 습관 등을 고려하여 예측할 수 있습니다.

## 5. 데이터셋 설명
- Thyroid Cancer Prediction 🩺(Recurrence) EDA + ANN[https://www.kaggle.com/code/vizeno/thyroid-cancer-prediction-recurrence-eda-ann/input] 
  - 입력 데이터로는 column 383[행]x17[열]
  - 데이터 용량으로는 43.59KB 입니다.
 
## 6. 모델 선정
# DecisionTreeClassifier 모델

| ✅ **해석 용이성 (Interpretability)** | 예측 과정을 나무 구조로 시각화 가능. "왜 이 결과가 나왔는지" 설명할 수 있음 |

| ✅ **전처리 부담이 적음**                | 스케일링, 정규화 등 데이터 전처리에 덜 민감함                    |

| ✅ **범주형/숫자형 혼합 데이터에 강함**        | 라벨 인코딩만 해주면 잘 작동함                             |

| ✅ **빠른 학습 속도**                  | 작은/중간 규모 데이터에 매우 빠름                           |

| ✅ **결측값/이상치에 상대적으로 견고**         | 다른 모델에 비해 어느 정도 처리 가능                         |

| ✅ **특성 선택 자동화**                 | 모델이 자동으로 중요한 특성을 판단함 (feature importance)     |
 
## 7. 모델 선정 후 실행 
| 단계         | 설명                                           |
| ---------- | -------------------------------------------- |
| 1️⃣ 데이터 로딩 | `Thyroid_Diff.csv` 불러오기                      |
| 2️⃣ 전처리    | 문자열 컬럼 → `LabelEncoder`로 숫자 변환               |
| 3️⃣ 반복 처리  | 각 컬럼을 예측 대상으로 순차 설정                          |
| 4️⃣ 스케일링   | 나머지 컬럼들에 `StandardScaler` 적용                 |
| 5️⃣ 모델 훈련  | `DecisionTreeClassifier`로 훈련                 |
| 6️⃣ 평가     | `accuracy_score`, `classification_report` 출력 |

## 7. 추후 수정 및 추가 
| 구분                | 내용                                    | 설명                                             |
| ----------------- | ------------------------------------- | ---------------------------------------------- |
| 🔁 1. 알고리즘 다양화    | `RandomForest`, `KNN`, `XGBoost` 등 추가 | 모델 비교 가능                                       |
| 🔀 2. 회귀/분류 자동 분기 | `Age` 같이 연속형 변수는 회귀 모델 사용             | 예: `LinearRegression`, `RandomForestRegressor` |
| 📈 3. 성능 시각화      | 정확도 비교 그래프, 혼동 행렬 추가                  | 시각적 이해도 향상                                     |
| 📂 4. 결과 저장       | 정확도/리포트 CSV 저장                        | 모델별 성능 관리                                      |
| 📋 5. 하이퍼파라미터 튜닝  | `GridSearchCV`, `RandomSearchCV` 활용   | 성능 최적화                                         |
| ✅ 6. 이상치 탐지 및 제거  | 스케일링 전 데이터 품질 점검                      | 모델 안정성 향상                                      |
| 🧠 7. 모델 저장/불러오기  | `joblib` 또는 `pickle` 사용               | 나중에 재사용 가능                                     |
| 🌐 8. 웹 앱 배포 (선택) | `Streamlit` 또는 `Flask` 활용             | 사용자 입력 받아 예측                                   |

- 요약을 하면 단순하고 구조로 초기 모델 실험, 해석, 그리고 교육적 목적에 매우 유용한 알고리즘이기 때문에 선정을 하게 되었습니다.
- 만약 추후에 RandomForest, GradientBoosting, XGBoost, LightGBM 등의 앙상블 기법을 함께 사용하는 것이 일반적인 확장 방향입니다. 

## 8. 기대 효과
| 기대 효과       | 설명                           |


| 🧠 조기 예측    | 갑상선암 발생 또는 재발 위험 환자 선별 가능    |

| 🩺 맞춤 의료    | 환자 특성 기반 예측으로 개인 맞춤 치료 설계 가능 |

| 💰 의료비 절감   | 불필요한 검사를 줄이고, 조기 치료로 비용 감소   |

| 🏥 의료 현장 지원 | 의료진의 의사결정을 데이터 기반으로 보조 가능    |

| 📈 공공 보건 기여 | 예방 중심의 정책 설계에 기초 자료 제공 가능    |

## 9. 결론 및 성공 가능성
- 이번 프로젝트는 재발 여부 예측 모델 구축을 목표로 하며, 현재까지의 개발 단계에서는 데이터 전처리, 특성 선택, 모델 설계 및 초기 학습이 완료된 상태입니다.
  
   # 데이터 전처리
     - Age, Smoking, Risk, T, N, M, Stage, Response, Recurred 등을 포함한 주요 변수들을 기반으로 분석을 수행하였으며, 범주형 변수는 더미 변수화 처리(pd.get_dummies)를 통해 모델에 적용 가능한 형태로 변환하였습니다. 클래스 불균형 문제는 SMOTE 등의 오버샘플링 기법으로 해결하여 모델 학습의 편향을 줄였습니다.

  # 탐색적 데이터 분석 (EDA):
    - 상관관계 히트맵을 통해 변수 간 관계를 시각적으로 확인하였으며, Age, Stage, Response와 Recurred 간에 비교적 의미 있는 상관관계가 관찰되었습니다. 박스플롯 분석을 통해 이상치 유무 및 데이터 분포를 확인함으로써 변수 간 편차를 이해할 수 있었습니다.

  # 모델 개발 및 학습 결과 
    - 2개의 은닉층(64, 32 노드)과 ReLU 활성화 함수, 시그모이드 출력층으로 구성된 신경망 모델을 사용했습니다. 50 에폭 동안 학습을 수행한 결과, 훈련 정확도와 검증 정확도가 모두 일정하게 증가하였으며, 학습 도중 과적합 징후는 확인되지 않았습니다. 학습 정확도와 검증 정확도 그래프의 추세가 유사하게 움직이며, 모델이 훈련 데이터에 과도하게 치우치지 않고 일반화 능력을 유지하고 있음을 나타냅니다.
